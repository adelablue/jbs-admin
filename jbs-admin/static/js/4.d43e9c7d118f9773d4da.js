webpackJsonp([4],{"1T1h":function(A,s){},"98ln":function(A,s){A.exports="data:image/png;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiTgybEIHA4AAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAYAAAABgAAAAAAAAAAAAAAAAAAABIAAAAOAAAADtyinVanYFtyEwEAJgAAAAAAAAAAAAAAAAAAAACkMis8hQsDuCACABQAAAAAAAAAAGAHASiGKSOKaBMNSlsLBowEAAAS0ZqWOjwEAH4AAAACAAAAAAAAAAAAAAAA9bOuZqMWDNAAAAAIAAAAAAAAAACgJRymbEA8Ps+JhFh/FxHUAAAACrhrZVhVBwGqAAAACAAAAAAAAAAAAAAAAPjBvTqlHBPMAAAACAAAAAAAAAAAvExF4hUBAEbmsq4+fx8YzAAAAAiQNjCSfjMukAQAABYAAAAAAAAAAAAAAAD4wb42pRwT0AAAACgAAAAiAAAADuOTjq57EgucjEtGan4eF8oIBgYKhSkjuqVwbUY7BAA8AAAAAAAAAAAAAAAA+MG+NsErIea8WVKIqTcvnkUFAXSFZWMkzZaSYtOOiXSCHBbGnF1ZMHETDKLotbEgWh0ZZgAAAAYAAAAAAAAAAPjBvjaxHRPMRjY1DPS7tlyqJx7ifB8YghMBAEKvcGtMhhEJnJc1LnpXBgFq67i0AoNDPpoAAAAeAAAAAAAAAAD3wb02tB4TzAAAAAyVdHIawjcu5tOJhKSeNC2UtlZPqJRBOyjAamTKYhIMOtanpAKvZmHCOAQAGgAAAAAAAAAA6YuFPMAYDNByCAFWnCEYlLs2LXzKnpsE7Li0ItippQ7Qop4A77u3EJJybwL3wb0A6rezDgAAAAAAAAAAAAAAAPW4tDTioJtg2ZeTUumopFx6XlwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AAD//wAA/+8AAP//AADevwAA3bcAAN2nAADcrwAAx68AANm7AADYWwAA1/8AAP//AAD//wAA//8AAA=="},DgbJ:function(A,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("P9l9"),i={data:function(){return{infomations:null,startTime_2:null,shop:{},scripts:{},price:"",now:"",wait:"",host_name:"",host_wechat:"",host_mobile:"",joiners:{},status:!1,dialogVisible:!1,commission:[],total:0,hostBack:0,joinerBack:0,joinerBacks:0,allBacks:[],supportPayment:!1}},mounted:function(){var A=this.$common.getSessionStorage("objectId");this.getInfo(A)},methods:{getInfo:function(A){var s=this;Object(a.k)(A).then(function(A){if(void 0==A&&s.$message({type:"error",message:"该活动不存在或已取消!"}),200==A.status){if(s.$message({type:"success",message:"获取数据成功!"}),s.hasData=!0,s.infomations=A.data.data,s.shop=s.infomations.shop,s.supportPayment=A.data.data.supportPayment,s.scripts=s.infomations.script,s.startTime_2=Object(a.f)(new Date(s.infomations.startTime))+" "+Object(a.h)(new Date(s.infomations.startTime))+" "+Object(a.g)(new Date(s.infomations.startTime)),s.price=s.infomations.price,s.now=s.infomations.numberOfParticipators+s.infomations.numberOfOfflinePersons+"人",s.wait="("+s.infomations.minNumberOfAvailableSpots+"~"+s.infomations.maxNumberOfAvailableSpots+")人",s.host_name=s.infomations.hostUser.nickName,s.host_wechat=s.infomations.hostUser.wechatId,s.host_mobile=s.infomations.hostUser.mobile,s.joiners=s.infomations.members,s.infomations.commissions.length>0){s.commission=s.infomations.commissions[0].commissions;var t=s.commission.host,i=s.commission.participators;s.hostBack=t.amount,s.joinerBacks=i.length*i[0].amount,s.joinerBack=i[0].amount,s.total=s.hostBack+s.joinerBacks;for(var e=0;e<i.length;e++)for(var o=0;o<s.joiners.length;o++)if(s.joiners[o].user.id==i[e].user){var n={nick:s.joiners[o].user.nickName,money:i[0].amount};s.allBacks.push(n)}}else s.$message({type:"success",message:"暂未获取到返现详情!"}),s.hasData=!1;"completed"==s.infomations.status?s.status=!0:s.status=!1}else 404==A.status&&(s.hasData=!0,s.$message({type:"success",message:"该活动不存在或已取消!"}))})},copyHost:function(A){void 0!=A.text&&this.$message({type:"success",message:"发团人微信号 "+A.text+" 复制成功!"})},copyHostError:function(A){this.$message({type:"success",message:"发团人微信复制失败!"})},copyJoiner:function(A){this.$message({type:"success",message:"参团人微信号 "+A.text+" 复制成功!"})},copyJoinerError:function(A){this.$message({type:"success",message:"参团人微信复制失败!"})},showCallBack:function(){this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1}}},e={render:function(){var A=this,s=A.$createElement,a=A._self._c||s;return a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"item"},[a("div",{staticClass:"script_name"},[A._v("剧本:   "),a("span",{staticClass:"name_"},[A._v(A._s(A.scripts.name))])])]),A._v(" "),a("div",{staticClass:"shop item"},[a("div",{staticClass:"shop_name"},[A._v("店名:   "),a("span",{staticClass:"name_"},[A._v(A._s(A.shop.name)),A.supportPayment?a("img",{staticStyle:{"vertical-align":"middle","margin-left":"10px"},attrs:{src:t("98ln"),alt:""}}):A._e()])])]),A._v(" "),a("div",{staticClass:"startTime item"},[a("div",{staticClass:"start_time"},[A._v("时间:   "),a("span",{staticClass:"time_"},[A._v(A._s(A.startTime_2))])])]),A._v(" "),a("div",{staticClass:"price item"},[a("div",{staticClass:"script_price"},[A._v("价格:   "),a("span",{staticClass:"price_"},[A._v(A._s(A.price)+" 元/人")])])]),A._v(" "),a("div",{staticClass:"process item"},[a("div",{staticClass:"script_process"},[A._v("进度:   "),a("span",{staticClass:"process_"},[a("i",[A._v(A._s(A.now))]),A._v(" == "),a("i",[A._v(A._s(A.wait))])])])]),A._v(" "),a("div",{staticClass:"host item"},[a("div",{staticClass:"host_"},[A._v("发团人:   "),a("span",{staticClass:"host_name"},[A._v("昵称: "+A._s(A.host_name))]),A._v(" "),a("span",{staticClass:"host_wechat"},[A._v("微信: "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:A.host_wechat,expression:"host_wechat",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:A.copyHost,expression:"copyHost",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:A.copyHostError,expression:"copyHostError",arg:"error"}],staticClass:"i_host_wechat"},[A._v(A._s(A.host_wechat))])])])]),A._v(" "),a("div",{staticClass:"host_mobile item"},[a("div",{staticClass:"host_m"},[A._v("发团人手机号:   "),a("span",{staticClass:"mobile"},[A._v(A._s(A.host_mobile))])])]),A._v(" "),a("div",{staticClass:"joiner item"},[a("div",{staticClass:"joiner_m"},[A._v("参团人:")]),A._v(" "),a("div",{staticClass:"joiners"},A._l(A.joiners,function(s){return a("li",{key:s.index},[a("span",{staticClass:"nickName"},[A._v("昵称: "),a("i",{staticClass:"niname"},[A._v(A._s(s.user.nickName))]),A._v(" "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:s.user.wechatId,expression:"item.user.wechatId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:A.copyJoiner,expression:"copyJoiner",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:A.copyJoinerError,expression:"copyJoinerError",arg:"error"}],staticClass:"weixin"},[A._v(A._s(s.user.wechatId))])])])}),0),A._v(" "),a("div",{staticStyle:{clear:"both"}})]),A._v(" "),a("div",{staticClass:"btns"},[A.status?A._e():a("span",{staticClass:"nocallback"},[A._v("返现")]),A._v(" "),A.status?a("span",{staticClass:"callback",on:{click:A.showCallBack}},[A._v("返现")]):A._e()]),A._v(" "),A.dialogVisible?a("div",{staticClass:"dialog_wraps"},[a("div",{staticClass:"dialog_contents"},[a("div",{staticClass:"dialogs-header"},[a("span",{staticClass:"title"},[A._v("返现详情")]),A._v(" "),a("span",{staticClass:"el-icon-close close",on:{click:function(s){A.dialogVisible=!1}}})]),A._v(" "),a("div",{staticClass:"contents"},[a("li",[A._v("总共返现: "+A._s(A.total.toFixed(2))+"元")]),A._v(" "),a("li",[A._v("发团人: "+A._s(A.host_name)+" "),a("i",[A._v(A._s(A.hostBack.toFixed(2))+"元")])]),A._v(" "),a("li",[a("div",{staticClass:"joiner_m"},[A._v("参团人:")]),A._v(" "),a("div",{staticClass:"joiners"},A._l(A.allBacks,function(s){return a("li",{key:s.index},[a("span",{staticClass:"nickName"},[A._v("昵称: "),a("i",{staticClass:"niname"},[A._v(A._s(s.nick))]),A._v(" "),a("i",{staticClass:"weixin"},[A._v(A._s(s.money.toFixed(2))+"元")])])])}),0),A._v(" "),a("div",{staticStyle:{clear:"both"}})])]),A._v(" "),a("div",{staticClass:"dialogs-footer"},[a("el-button",{on:{click:function(s){A.dialogVisible=!1}}},[A._v("取 消")]),A._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(s){A.dialogVisible=!1}}},[A._v("确 定")])],1)])]):A._e()])])},staticRenderFns:[]};var o=t("VU/8")(i,e,!1,function(A){t("1T1h")},"data-v-6ccde96c",null);s.default=o.exports}});